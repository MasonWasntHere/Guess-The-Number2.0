import random
import os

class User:
    def __init__(self, name, score):
        self.name = name
        self.score = score

    def assign_score(self, score):
        self.score = score

    def display_properties(self):
        print("Properties of the User:")
        print("Name:", self.name)
        print("Score:", self.score)

# ask user for name
print("Please input your name")
name_input = input()

number_of_guesses = 0  # initialize number of guesses

def GuessTheNumber():
    global number_of_guesses
    number_of_guesses = 0  # reset number of guesses for each game
    random_number = random.randint(1, 100)  # generates random number
    print("Guess the number between 1 and 100")
    while True:
        user_guess = int(input())
        number_of_guesses += 1
        if user_guess > random_number:
            print("Too high")
        elif user_guess < random_number:
            print("Too low")
        else:
            print("Congratulations! You guessed the number in", number_of_guesses, "tries.")
            with open("leaderboard.txt", "a") as file:
                file.write(name_input + ": " + str(number_of_guesses) + "\n")
            break
    except ValueError:
        print("Please input a valid number") # if you input a string, it will ask for a number

user1 = User(name_input, 0)  # creates a user 

print("")
print("--------------------------------")
print("Welcome to Guess The Number 2.0!")
print("--------------------------------")
print("Do you want to play Guess The Number 2.0, or check out the leaderboard? (y/n/l)")  # asks you what you want do to
print("")
play = input().lower()

while play != "n":
    if play == "l":
        print("Leaderboard:")
        with open("leaderboard.txt", "r") as file:
            print(file.read())
        print("Do you want to play Guess The Number 2.0 now? (y/n)")
        play = input().lower()
    elif play == "y":
        GuessTheNumber()
        user1.assign_score(number_of_guesses)  # assigns score
        user1.display_properties()  # displays user score
        print("Do you want to play again? or check the leaderboard (y/n/l)")  # asks if you want to paly again
        print("")
        play = input().lower()
    else:
        print("Invalid input. Please enter 'y', 'n', or 'l'.")
        play = input().lower()

print("Thank you for playing!")
