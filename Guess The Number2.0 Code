import random
import os

class User:

    def __init__(self, name, score):
        self.name = name
        self.score = score

    def assign_score(self, score):
        self.score = score

    def display_properties(self):
        print("Properties of the User:")
        print("Name:", self.name)
        print("Score:", self.score)

#ask user for name
print("Please input your name")
name_input = input()

number_of_guesses = 0 #initialize number of guesses

def GuessTheNumber():
    print("Guess the number between 1 and 100")
    print("")
    user_guess = int(input())
    global number_of_guesses
    number_of_guesses += 1
    if user_guess > random_number:
        print("Too high")
    elif user_guess < random_number:
        print("Too low")
    else:
        print("Congratulations! You guessed the number in", number_of_guesses, "tries.")
        with open("leaderboard.txt", "a") as file:
            file.write(name_input + ": " + str(number_of_guesses) + "\n")



user1 = User(name_input, 0) # Creating a user
 
random_number = random.randint(1, 100) #generate random number    


print("")
print("--------------------------------")
print("Welcome to Guess The Number 2.0!")
print("--------------------------------")
print("Do you want to play Guess The Number 2.0, or check out the leaderboard? (y/n/l)") #ask user to what they want to do
print("")
play = input()
if play == "l":
    print("Leaderboard:")
    with open("leaderboard.txt", "r") as file:
        print(file.read())
    print("Do you want to play Guess The Number 2.0 now? (y/n)")
    play = input()
elif play == "n":
    print("Thank you for playing!")
    exit()
else: play == "y"


print("Guess the number between 1 and 100")

user1.assign_score(number_of_guesses) #assign score

user1.display_properties() #display user properties

print("Do you want to play again? or check the leaderboard (y/n/l)") #ask user to play again
print("")
play_again = input()

if play_again.lower() == "y":
    GuessTheNumber()
elif play_again.lower() == "l":
    print("Leaderboard:")   
    with open("leaderboard.txt", "r") as file:
        print(file.read())
else:
    print("Thank you for playing!")
